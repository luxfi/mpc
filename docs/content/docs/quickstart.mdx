---
title: Quick Start
description: Get started with Lux MPC in minutes
---

# Quick Start

Get a local MPC cluster running in under 5 minutes.

## Prerequisites

- Go 1.23+
- Docker and Docker Compose

## 1. Clone and Build

```bash
git clone https://github.com/luxfi/mpc.git
cd mpc
make
```

## 2. Start Infrastructure

```bash
# Create compose.yml
cat > compose.yml << 'EOF'
services:
  nats:
    image: nats:latest
    command: -js
    ports:
      - "4222:4222"
  consul:
    image: consul:1.15.4
    ports:
      - "8500:8500"
    command: agent -server -ui -bootstrap-expect=1 -client=0.0.0.0
EOF

docker compose up -d
```

## 3. Configure Cluster

```bash
# Generate peer configuration
lux-mpc-cli generate-peers -n 3

# Generate initiator key
lux-mpc-cli generate-initiator

# Create configuration
cat > config.yaml << 'EOF'
nats:
  url: nats://127.0.0.1:4222
consul:
  address: localhost:8500
mpc_threshold: 2
environment: development
badger_password: "dev-password-change-in-prod"
event_initiator_pubkey: "YOUR_PUBLIC_KEY_HERE"
EOF
```

Replace `YOUR_PUBLIC_KEY_HERE` with the key from `event_initiator.identity.json`.

## 4. Setup Nodes

```bash
# Create node directories
mkdir -p node{0..2}/identity
for dir in node0 node1 node2; do
  cp config.yaml peers.json "$dir/"
done

# Generate identities
cd node0 && lux-mpc-cli generate-identity --node node0 && cd ..
cd node1 && lux-mpc-cli generate-identity --node node1 && cd ..
cd node2 && lux-mpc-cli generate-identity --node node2 && cd ..

# Distribute identities
for src in node0 node1 node2; do
  for dst in node0 node1 node2; do
    cp "$src/identity/${src}_identity.json" "$dst/identity/"
  done
done

# Register peers
lux-mpc-cli register-peers
```

## 5. Start Nodes

Open three terminal windows:

```bash
# Terminal 1
cd node0 && lux-mpc start -n node0
```

```bash
# Terminal 2
cd node1 && lux-mpc start -n node1
```

```bash
# Terminal 3
cd node2 && lux-mpc start -n node2
```

## 6. Create a Wallet

```go
package main

import (
    "fmt"
    "log"
    "time"

    "github.com/luxfi/mpc/pkg/client"
    "github.com/luxfi/mpc/pkg/event"
    "github.com/nats-io/nats.go"
)

func main() {
    // Connect to NATS
    nc, err := nats.Connect("nats://localhost:4222")
    if err != nil {
        log.Fatal(err)
    }
    defer nc.Close()

    // Create MPC client
    mpcClient := client.NewMPCClient(client.Options{
        NatsConn: nc,
        KeyPath:  "./event_initiator.key",
    })

    // Subscribe to results
    mpcClient.OnWalletCreationResult(func(e event.KeygenResultEvent) {
        fmt.Printf("Wallet created!\n")
        fmt.Printf("  ID: %s\n", e.WalletID)
        fmt.Printf("  Public Key: %x\n", e.ECDSAPubKey)
    })

    // Create wallet
    walletID := fmt.Sprintf("wallet-%d", time.Now().Unix())
    if err := mpcClient.CreateWallet(walletID); err != nil {
        log.Fatal(err)
    }

    fmt.Printf("Creating wallet: %s\n", walletID)

    // Wait for result
    time.Sleep(30 * time.Second)
}
```

Save as `main.go` and run:

```bash
go run main.go
```

## 7. Sign a Message

```go
package main

import (
    "crypto/sha256"
    "encoding/hex"
    "fmt"
    "log"
    "time"

    "github.com/luxfi/mpc/pkg/client"
    "github.com/luxfi/mpc/pkg/event"
    "github.com/luxfi/mpc/pkg/types"
    "github.com/nats-io/nats.go"
)

func main() {
    nc, _ := nats.Connect("nats://localhost:4222")
    defer nc.Close()

    mpcClient := client.NewMPCClient(client.Options{
        NatsConn: nc,
        KeyPath:  "./event_initiator.key",
    })

    // Subscribe to signing results
    mpcClient.OnSignResult(func(e event.SigningResultEvent) {
        fmt.Printf("Signature: %x\n", e.Signature)
    })

    // Hash the message
    message := []byte("Hello, MPC!")
    hash := sha256.Sum256(message)

    // Sign
    err := mpcClient.SignTransaction(&types.SignTxMessage{
        WalletID:    "your-wallet-id",
        MessageHash: hex.EncodeToString(hash[:]),
        NetworkCode: "ETH",
    })
    if err != nil {
        log.Fatal(err)
    }

    time.Sleep(10 * time.Second)
}
```

## TypeScript Client

```typescript
import { MPCClient } from '@luxfi/mpc-client';

async function main() {
    const client = new MPCClient({
        natsUrl: 'nats://localhost:4222',
        keyPath: './event_initiator.key'
    });

    // Create wallet
    const wallet = await client.createWallet('my-wallet');
    console.log('Wallet created:', wallet.publicKey);

    // Sign message
    const signature = await client.sign({
        walletId: wallet.id,
        message: Buffer.from('Hello, MPC!')
    });
    console.log('Signature:', signature.toString('hex'));
}

main();
```

## Supported Networks

### ECDSA (secp256k1)
- Bitcoin (BTC)
- Ethereum (ETH)
- XRP Ledger (XRPL)
- Lux Network (LUX)
- BNB Chain (BNB)
- Polygon (MATIC)

### EdDSA (Ed25519)
- Solana (SOL)
- TON (TON)

## Configuration Options

| Option | Description | Default |
|--------|-------------|---------|
| `mpc_threshold` | Minimum signers required | 2 |
| `environment` | development/production | development |
| `badger_password` | Database encryption key | required |
| `max_concurrent_keygen` | Parallel key generations | 10 |

## Next Steps

- [Installation Guide](/docs/installation) - Detailed setup instructions
- [Protocol Overview](/docs/protocol) - Understand CGGMP21 and FROST
- [API Reference](/docs/api) - Complete API documentation
- [Security Model](/docs/security) - Security considerations
- [Use Cases](/docs/use-cases) - Integration patterns
